[2025-05-25T06:54:30.877Z] ================================================================================
[2025-05-25T06:54:30.877Z] NEW DEV SESSION STARTED: 2025-05-25T06:54:30.877Z
[2025-05-25T06:54:30.878Z] ================================================================================
[2025-05-25T06:54:30.878Z] STEP: Killing processes on port 3000
[2025-05-25T06:54:30.927Z] âœ… Killed process 30235 on port 3000
[2025-05-25T06:54:30.996Z] NEXTJS_CLOSE: Next.js dev server stopped with exit code: 0
[2025-05-25T06:54:31.426Z] STEP: Starting Next.js development server
[2025-05-25T06:54:32.270Z] NEXTJS_STDOUT: â–² Next.js 15.3.2
[2025-05-25T06:54:32.270Z] NEXTJS_STDOUT: - Local:        http://localhost:3000
[2025-05-25T06:54:32.270Z] NEXTJS_STDOUT: - Network:      http://100.110.212.88:3000
[2025-05-25T06:54:32.270Z] NEXTJS_STDOUT: - Environments: .env.local
[2025-05-25T06:54:32.270Z] NEXTJS_STDOUT: âœ“ Starting...
[2025-05-25T06:54:33.424Z] NEXTJS_STDOUT: âœ“ Ready in 1225ms
[2025-05-25T06:55:28.986Z] NEXTJS_STDOUT: âœ“ Compiled /middleware in 160ms (269 modules)
[2025-05-25T06:55:29.064Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Request URL: http://localhost:3000/api/test-personalized-comments
[2025-05-25T06:55:29.064Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Pathname: /api/test-personalized-comments
[2025-05-25T06:55:29.064Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Auth userId: null
[2025-05-25T06:55:29.064Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Is protected route: true
[2025-05-25T06:55:29.570Z] NEXTJS_STDOUT: â—‹ Compiling /_not-found ...
[2025-05-25T06:55:30.845Z] NEXTJS_STDOUT: âœ“ Compiled /_not-found in 1776ms (1538 modules)
[2025-05-25T06:55:31.325Z] NEXTJS_STDOUT: POST /api/test-personalized-comments 404 in 2258ms
[2025-05-25T06:55:31.473Z] NEXTJS_STDOUT: âœ“ Compiled in 302ms (526 modules)
[2025-05-25T06:55:40.043Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Request URL: http://localhost:3000/api/test-personalized-comments
[2025-05-25T06:55:40.044Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Pathname: /api/test-personalized-comments
[2025-05-25T06:55:40.044Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Auth userId: null
[2025-05-25T06:55:40.044Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Is protected route: true
[2025-05-25T06:55:40.061Z] NEXTJS_STDOUT: HEAD /api/test-personalized-comments 404 in 15ms
[2025-05-25T06:55:55.210Z] NEXTJS_STDOUT: âœ“ Compiled in 81ms (269 modules)
[2025-05-25T06:56:04.850Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Request URL: http://localhost:3000/api/test-personalized-comments
[2025-05-25T06:56:04.851Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Pathname: /api/test-personalized-comments
[2025-05-25T06:56:04.851Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Auth userId: null
[2025-05-25T06:56:04.851Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Is protected route: true
[2025-05-25T06:56:04.851Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Is public API route: true
[2025-05-25T06:56:05.353Z] NEXTJS_STDOUT: â—‹ Compiling /api/test-personalized-comments ...
[2025-05-25T06:56:05.459Z] NEXTJS_STDOUT: âœ“ Compiled /api/test-personalized-comments in 606ms (1590 modules)
[2025-05-25T06:56:05.722Z] NEXTJS_STDOUT: ðŸ§ª [TEST-API] Received test request
[2025-05-25T06:56:05.722Z] NEXTJS_STDOUT: ðŸ§ª [TEST-API] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-25T06:56:05.722Z] NEXTJS_STDOUT: ðŸ§ª [TEST-API] Thread: Looking for recommendations for private beachfront...
[2025-05-25T06:56:05.722Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Generating personalized comments for user: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-25T06:56:05.723Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Thread: "Looking for recommendations for private beachfront..."
[2025-05-25T06:56:05.836Z] NEXTJS_STDOUT: ðŸ”¥ [KNOWLEDGE-BASE] Starting getKnowledgeBaseByUserIdAction
[2025-05-25T06:56:05.836Z] NEXTJS_STDOUT: ðŸ”¥ [KNOWLEDGE-BASE] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [VOICE-SETTINGS] Starting getVoiceSettingsByUserIdAction
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [VOICE-SETTINGS] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Action called
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] User ID type: string
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Created Firestore document reference
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Collection: profiles
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Document path: profiles/user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-25T06:56:05.837Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Reading from Firestore...
[2025-05-25T06:56:06.056Z] NEXTJS_STDOUT: ðŸ”¥ [KNOWLEDGE-BASE] No knowledge base found for user
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: ðŸ”¥ [VOICE-SETTINGS] No voice settings found for user
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Firestore read completed
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Document exists: true
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Document id: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Raw data from Firestore: {
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "redditTokenExpiresAt": {
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "seconds": 1748224538,
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "nanoseconds": 120000000
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: },
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "name": "Beachcomber Dominican Republic",
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "keywords": [
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "recommendations for private beachfront retreats in Dominican Republic",
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "where to find exclusive beach retreats in DR"
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: ],
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "profilePictureUrl": "https://img.clerk.com/eyJ0eXBlIjoicHJveHkiLCJzcmMiOiJodHRwczovL2ltYWdlcy5jbGVyay5kZXYvb2F1dGhfZ29vZ2xlL2ltZ18yeFZjUEpHNXJhNkpvQnVIT3VoUVlFZER1YmsifQ",
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "seconds": 1748138138,
[2025-05-25T06:56:06.057Z] NEXTJS_STDOUT: "nanoseconds": 478000000
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: },
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "redditUsername": "Ecstatic-Executor",
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "redditRefreshToken": "2284386902697-ua8pxXXVLGAER-MK6wXvig6EYtgCyw",
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "website": "https://lascanasbeachretreat.com",
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "onboardingCompleted": false,
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "redditAccessToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IlNIQTI1NjpzS3dsMnlsV0VtMjVmcXhwTU40cWY4MXE2OWFFdWFyMnpLMUdhVGxjdWNZIiwidHlwIjoiSldUIn0.eyJzdWIiOiJ1c2VyIiwiZXhwIjoxNzQ4MjI0NTM3Ljg4NzIyMywiaWF0IjoxNzQ4MTM4MTM3Ljg4NzIyMywianRpIjoiQjdSQ2JJRmlHOGR1V0c4Yk9HYmtZM2Q4ZnAxZmJnIiwiY2lkIjoiay1YV0VKdl85Zm1ORy1IUGRoVkw2dyIsImxpZCI6InQyX3Q1Zmt6YjFsIiwiYWlkIjoidDJfdDVma3piMWwiLCJsY2EiOjE2NjUxMzAxODIwMDAsInNjcCI6ImVKeUtWa3BOeVN4UjBsRXFTazFNVWRKUktpNU55Z1h6TTFOUzgwb3lTeXFWZEpReU1vdEw4b3NxbFdJQkFRQUFfXzlOdEE4UCIsInJjaWQiOiJ0V3VkMVJmVnBnN3Qyb3BzZnJaSEx2TjVsZU8tcThwTWRvb0c0OTY3ME1zIiwiZmxvIjo4fQ.P2rnccoog0e-alF3bQta8H5k2zRRgLgXg-n2kcaAQwKl4UA7f_f6vfwXvuMtAK-tJE1hwem8bz5Ar4ML8bXbN0WNyMOiKjP-hKno6PCzrkuvaVsqmxlKbhn3QWzRNz_c-cuxbIOkDECwEBa1h7wlve3It6FOq3ROax_9RZzFc0lkfKNmC-NpkVF8b5T3ADPeFt8ZMMp4E3rVElmZgvFHhiGudiGKmtroqwD7DiYyyt22zS90OCfnMRL3_8l88G8FXHhEDqFWRjW2yDKa0orrfINRstAp3yokNTSj2MBBQbKTo0L17z6LPicDRRn3N-OJO30X0GsnkpBIZQRKWooIXg",
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "seconds": 1748026655,
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "nanoseconds": 814000000
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: },
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy"
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: }
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Raw data keys: [
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'redditTokenExpiresAt',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'name',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'keywords',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'profilePictureUrl',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'updatedAt',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'redditUsername',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'redditRefreshToken',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'membership',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'website',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'onboardingCompleted',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'redditAccessToken',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'createdAt',
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: 'userId'
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: ]
[2025-05-25T06:56:06.058Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Raw createdAt from Firestore: Timestamp { seconds: 1748026655, nanoseconds: 814000000 }
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Raw createdAt type: object
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Raw updatedAt from Firestore: Timestamp { seconds: 1748138138, nanoseconds: 478000000 }
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Raw updatedAt type: object
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Casting to ProfileDocument
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] ProfileDocument createdAt: Timestamp { seconds: 1748026655, nanoseconds: 814000000 }
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] ProfileDocument updatedAt: Timestamp { seconds: 1748138138, nanoseconds: 478000000 }
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Starting serialization...
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] Starting serialization
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] Input profile keys: [
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'redditTokenExpiresAt',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'name',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'keywords',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'profilePictureUrl',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'updatedAt',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'redditUsername',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'redditRefreshToken',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'membership',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'website',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'onboardingCompleted',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'redditAccessToken',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'createdAt',
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: 'userId'
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ]
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] Raw profile data: {
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "redditTokenExpiresAt": {
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "seconds": 1748224538,
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "nanoseconds": 120000000
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: },
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "name": "Beachcomber Dominican Republic",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "keywords": [
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "recommendations for private beachfront retreats in Dominican Republic",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "where to find exclusive beach retreats in DR"
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: ],
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "profilePictureUrl": "https://img.clerk.com/eyJ0eXBlIjoicHJveHkiLCJzcmMiOiJodHRwczovL2ltYWdlcy5jbGVyay5kZXYvb2F1dGhfZ29vZ2xlL2ltZ18yeFZjUEpHNXJhNkpvQnVIT3VoUVlFZER1YmsifQ",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "seconds": 1748138138,
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "nanoseconds": 478000000
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: },
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "redditUsername": "Ecstatic-Executor",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "redditRefreshToken": "2284386902697-ua8pxXXVLGAER-MK6wXvig6EYtgCyw",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "website": "https://lascanasbeachretreat.com",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "onboardingCompleted": false,
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "redditAccessToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IlNIQTI1NjpzS3dsMnlsV0VtMjVmcXhwTU40cWY4MXE2OWFFdWFyMnpLMUdhVGxjdWNZIiwidHlwIjoiSldUIn0.eyJzdWIiOiJ1c2VyIiwiZXhwIjoxNzQ4MjI0NTM3Ljg4NzIyMywiaWF0IjoxNzQ4MTM4MTM3Ljg4NzIyMywianRpIjoiQjdSQ2JJRmlHOGR1V0c4Yk9HYmtZM2Q4ZnAxZmJnIiwiY2lkIjoiay1YV0VKdl85Zm1ORy1IUGRoVkw2dyIsImxpZCI6InQyX3Q1Zmt6YjFsIiwiYWlkIjoidDJfdDVma3piMWwiLCJsY2EiOjE2NjUxMzAxODIwMDAsInNjcCI6ImVKeUtWa3BOeVN4UjBsRXFTazFNVWRKUktpNU55Z1h6TTFOUzgwb3lTeXFWZEpReU1vdEw4b3NxbFdJQkFRQUFfXzlOdEE4UCIsInJjaWQiOiJ0V3VkMVJmVnBnN3Qyb3BzZnJaSEx2TjVsZU8tcThwTWRvb0c0OTY3ME1zIiwiZmxvIjo4fQ.P2rnccoog0e-alF3bQta8H5k2zRRgLgXg-n2kcaAQwKl4UA7f_f6vfwXvuMtAK-tJE1hwem8bz5Ar4ML8bXbN0WNyMOiKjP-hKno6PCzrkuvaVsqmxlKbhn3QWzRNz_c-cuxbIOkDECwEBa1h7wlve3It6FOq3ROax_9RZzFc0lkfKNmC-NpkVF8b5T3ADPeFt8ZMMp4E3rVElmZgvFHhiGudiGKmtroqwD7DiYyyt22zS90OCfnMRL3_8l88G8FXHhEDqFWRjW2yDKa0orrfINRstAp3yokNTSj2MBBQbKTo0L17z6LPicDRRn3N-OJO30X0GsnkpBIZQRKWooIXg",
[2025-05-25T06:56:06.059Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "seconds": 1748026655,
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "nanoseconds": 814000000
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: },
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy"
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: }
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] createdAt type: object
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] createdAt instanceof Timestamp: true
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] createdAt value: Timestamp { seconds: 1748026655, nanoseconds: 814000000 }
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] updatedAt type: object
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] updatedAt instanceof Timestamp: true
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] updatedAt value: Timestamp { seconds: 1748138138, nanoseconds: 478000000 }
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] Serialized profile: {
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "redditTokenExpiresAt": "2025-05-26T01:55:38.120Z",
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "name": "Beachcomber Dominican Republic",
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "keywords": [
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "recommendations for private beachfront retreats in Dominican Republic",
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "where to find exclusive beach retreats in DR"
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: ],
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "profilePictureUrl": "https://img.clerk.com/eyJ0eXBlIjoicHJveHkiLCJzcmMiOiJodHRwczovL2ltYWdlcy5jbGVyay5kZXYvb2F1dGhfZ29vZ2xlL2ltZ18yeFZjUEpHNXJhNkpvQnVIT3VoUVlFZER1YmsifQ",
[2025-05-25T06:56:06.060Z] NEXTJS_STDOUT: "updatedAt": "2025-05-25T01:55:38.478Z",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "redditUsername": "Ecstatic-Executor",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "redditRefreshToken": "2284386902697-ua8pxXXVLGAER-MK6wXvig6EYtgCyw",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "website": "https://lascanasbeachretreat.com",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "onboardingCompleted": false,
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "redditAccessToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IlNIQTI1NjpzS3dsMnlsV0VtMjVmcXhwTU40cWY4MXE2OWFFdWFyMnpLMUdhVGxjdWNZIiwidHlwIjoiSldUIn0.eyJzdWIiOiJ1c2VyIiwiZXhwIjoxNzQ4MjI0NTM3Ljg4NzIyMywiaWF0IjoxNzQ4MTM4MTM3Ljg4NzIyMywianRpIjoiQjdSQ2JJRmlHOGR1V0c4Yk9HYmtZM2Q4ZnAxZmJnIiwiY2lkIjoiay1YV0VKdl85Zm1ORy1IUGRoVkw2dyIsImxpZCI6InQyX3Q1Zmt6YjFsIiwiYWlkIjoidDJfdDVma3piMWwiLCJsY2EiOjE2NjUxMzAxODIwMDAsInNjcCI6ImVKeUtWa3BOeVN4UjBsRXFTazFNVWRKUktpNU55Z1h6TTFOUzgwb3lTeXFWZEpReU1vdEw4b3NxbFdJQkFRQUFfXzlOdEE4UCIsInJjaWQiOiJ0V3VkMVJmVnBnN3Qyb3BzZnJaSEx2TjVsZU8tcThwTWRvb0c0OTY3ME1zIiwiZmxvIjo4fQ.P2rnccoog0e-alF3bQta8H5k2zRRgLgXg-n2kcaAQwKl4UA7f_f6vfwXvuMtAK-tJE1hwem8bz5Ar4ML8bXbN0WNyMOiKjP-hKno6PCzrkuvaVsqmxlKbhn3QWzRNz_c-cuxbIOkDECwEBa1h7wlve3It6FOq3ROax_9RZzFc0lkfKNmC-NpkVF8b5T3ADPeFt8ZMMp4E3rVElmZgvFHhiGudiGKmtroqwD7DiYyyt22zS90OCfnMRL3_8l88G8FXHhEDqFWRjW2yDKa0orrfINRstAp3yokNTSj2MBBQbKTo0L17z6LPicDRRn3N-OJO30X0GsnkpBIZQRKWooIXg",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "createdAt": "2025-05-23T18:57:35.814Z",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy"
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: }
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] Serialized createdAt: 2025-05-23T18:57:35.814Z
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] Serialized updatedAt: 2025-05-25T01:55:38.478Z
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸ”¥ [PROFILE-SERIALIZE] Serialization complete
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Final result: {
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "isSuccess": true,
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "message": "Profile retrieved successfully",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "data": {
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "redditTokenExpiresAt": "2025-05-26T01:55:38.120Z",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "name": "Beachcomber Dominican Republic",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "keywords": [
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "recommendations for private beachfront retreats in Dominican Republic",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "where to find exclusive beach retreats in DR"
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ],
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "profilePictureUrl": "https://img.clerk.com/eyJ0eXBlIjoicHJveHkiLCJzcmMiOiJodHRwczovL2ltYWdlcy5jbGVyay5kZXYvb2F1dGhfZ29vZ2xlL2ltZ18yeFZjUEpHNXJhNkpvQnVIT3VoUVlFZER1YmsifQ",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "updatedAt": "2025-05-25T01:55:38.478Z",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "redditUsername": "Ecstatic-Executor",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "redditRefreshToken": "2284386902697-ua8pxXXVLGAER-MK6wXvig6EYtgCyw",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "website": "https://lascanasbeachretreat.com",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "onboardingCompleted": false,
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "redditAccessToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IlNIQTI1NjpzS3dsMnlsV0VtMjVmcXhwTU40cWY4MXE2OWFFdWFyMnpLMUdhVGxjdWNZIiwidHlwIjoiSldUIn0.eyJzdWIiOiJ1c2VyIiwiZXhwIjoxNzQ4MjI0NTM3Ljg4NzIyMywiaWF0IjoxNzQ4MTM4MTM3Ljg4NzIyMywianRpIjoiQjdSQ2JJRmlHOGR1V0c4Yk9HYmtZM2Q4ZnAxZmJnIiwiY2lkIjoiay1YV0VKdl85Zm1ORy1IUGRoVkw2dyIsImxpZCI6InQyX3Q1Zmt6YjFsIiwiYWlkIjoidDJfdDVma3piMWwiLCJsY2EiOjE2NjUxMzAxODIwMDAsInNjcCI6ImVKeUtWa3BOeVN4UjBsRXFTazFNVWRKUktpNU55Z1h6TTFOUzgwb3lTeXFWZEpReU1vdEw4b3NxbFdJQkFRQUFfXzlOdEE4UCIsInJjaWQiOiJ0V3VkMVJmVnBnN3Qyb3BzZnJaSEx2TjVsZU8tcThwTWRvb0c0OTY3ME1zIiwiZmxvIjo4fQ.P2rnccoog0e-alF3bQta8H5k2zRRgLgXg-n2kcaAQwKl4UA7f_f6vfwXvuMtAK-tJE1hwem8bz5Ar4ML8bXbN0WNyMOiKjP-hKno6PCzrkuvaVsqmxlKbhn3QWzRNz_c-cuxbIOkDECwEBa1h7wlve3It6FOq3ROax_9RZzFc0lkfKNmC-NpkVF8b5T3ADPeFt8ZMMp4E3rVElmZgvFHhiGudiGKmtroqwD7DiYyyt22zS90OCfnMRL3_8l88G8FXHhEDqFWRjW2yDKa0orrfINRstAp3yokNTSj2MBBQbKTo0L17z6LPicDRRn3N-OJO30X0GsnkpBIZQRKWooIXg",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "createdAt": "2025-05-23T18:57:35.814Z",
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy"
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: }
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: }
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸ”¥ [GET-PROFILE] Action completed successfully
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Knowledge base found: true
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Voice settings found: true
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Profile found: true
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Business context length: 88
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Writing style:
[2025-05-25T06:56:06.061Z] NEXTJS_STDOUT: ðŸŽ¯ [PERSONALIZED] Persona: a genuine user who has experience with this service
[2025-05-25T06:56:12.133Z] NEXTJS_STDOUT: âœ… [PERSONALIZED] Thread scored: 85/100 with personalized style
[2025-05-25T06:56:12.133Z] NEXTJS_STDOUT: âœ… [PERSONALIZED] Reasoning: The thread is asking for recommendations for private beachfront retreats in the Dominican Republic, ...
[2025-05-25T06:56:12.133Z] NEXTJS_STDOUT: âœ… [TEST-API] Personalized comments generated successfully
[2025-05-25T06:56:12.133Z] NEXTJS_STDOUT: ðŸ“Š [TEST-API] Score: 85
[2025-05-25T06:56:12.134Z] NEXTJS_STDOUT: ðŸ’­ [TEST-API] Reasoning: The thread is asking for recommendations for private beachfront retreats in the Dominican Republic, ...
[2025-05-25T06:56:12.137Z] NEXTJS_STDOUT: POST /api/test-personalized-comments 200 in 7286ms
[2025-05-25T06:56:22.632Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Request URL: http://localhost:3000/api/lead-generation/start
[2025-05-25T06:56:22.632Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Pathname: /api/lead-generation/start
[2025-05-25T06:56:22.632Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Auth userId: null
[2025-05-25T06:56:22.632Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Is protected route: true
[2025-05-25T06:56:22.632Z] NEXTJS_STDOUT: ðŸ”¥ðŸ”¥ðŸ”¥ [MIDDLEWARE] Is public API route: false
[2025-05-25T06:56:22.756Z] NEXTJS_STDOUT: POST /api/lead-generation/start 404 in 121ms
[2025-05-25T06:56:28.982Z] NEXTJS_STDOUT: âœ“ Compiled in 220ms (1538 modules)
[2025-05-25T06:56:29.177Z] NEXTJS_STDOUT: âœ“ Compiled in 173ms (1793 modules)
[2025-05-25T06:56:35.958Z] NEXTJS_STDOUT: âœ“ Compiled in 128ms (526 modules)
[2025-05-25T06:56:45.587Z] NEXTJS_STDOUT: âœ“ Compiled in 39ms (269 modules)
[2025-05-25T06:56:53.792Z] NEXTJS_STDOUT: âœ“ Compiled in 28ms (269 modules)
