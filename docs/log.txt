[2025-05-27T17:33:06.363Z] ================================================================================
[2025-05-27T17:33:06.364Z] NEW DEV SESSION STARTED: 2025-05-27T17:33:06.364Z
[2025-05-27T17:33:06.364Z] ================================================================================
[2025-05-27T17:33:06.364Z] STEP: Killing processes on port 3000
[2025-05-27T17:33:06.409Z] ✅ Killed process 63020 on port 3000
[2025-05-27T17:33:06.409Z] ✅ Killed process 24953 on port 3000
[2025-05-27T17:33:06.513Z] NEXTJS_CLOSE: Next.js dev server stopped with exit code: 0
[2025-05-27T17:33:06.908Z] STEP: Starting Next.js development server
[2025-05-27T17:33:07.659Z] NEXTJS_STDOUT: ▲ Next.js 15.3.2
[2025-05-27T17:33:07.659Z] NEXTJS_STDOUT: - Local:        http://localhost:3000
[2025-05-27T17:33:07.659Z] NEXTJS_STDOUT: - Network:      http://100.110.212.88:3000
[2025-05-27T17:33:07.659Z] NEXTJS_STDOUT: - Environments: .env.local
[2025-05-27T17:33:07.659Z] NEXTJS_STDOUT: ✓ Starting...
[2025-05-27T17:33:08.744Z] NEXTJS_STDOUT: ✓ Ready in 1152ms
[2025-05-27T17:33:09.201Z] NEXTJS_STDOUT: ✓ Compiled /middleware in 339ms (358 modules)
[2025-05-27T17:33:09.557Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/
[2025-05-27T17:33:09.557Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /
[2025-05-27T17:33:09.557Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:09.557Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: false
[2025-05-27T17:33:10.068Z] NEXTJS_STDOUT: ○ Compiling / ...
[2025-05-27T17:33:10.244Z] NEXTJS_STDERR: <w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (254kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
[2025-05-27T17:33:10.246Z] NEXTJS_STDERR: <w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (130kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
[2025-05-27T17:33:12.317Z] NEXTJS_STDOUT: ✓ Compiled / in 2.8s (2722 modules)
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Action called
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Input data: {
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy"
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Input data keys: [ 'userId' ]
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Created Firestore document reference
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Collection: profiles
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document path: profiles/user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw profile data before filtering: {
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: },
[2025-05-27T17:33:12.747Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw profile data keys: [
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 'userId',
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 'membership',
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 'stripeCustomerId',
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 'stripeSubscriptionId',
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 'createdAt',
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 'updatedAt'
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: ]
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] serverTimestamp() type: object
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Profile data after filtering undefined values: {
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: },
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Filtered profile data keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:33:12.748Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Writing to Firestore...
[2025-05-27T17:33:12.922Z] NEXTJS_STDOUT: ✓ Compiled in 567ms (914 modules)
[2025-05-27T17:33:13.163Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Successfully wrote to Firestore
[2025-05-27T17:33:13.163Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Reading back created document...
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document exists: true
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document id: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw data from Firestore: {
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: "seconds": 1748367193,
[2025-05-27T17:33:13.266Z] NEXTJS_STDOUT: "nanoseconds": 132000000
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: },
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: "seconds": 1748367193,
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: "nanoseconds": 132000000
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw data keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw createdAt from Firestore: Timestamp { seconds: 1748367193, nanoseconds: 132000000 }
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw updatedAt from Firestore: Timestamp { seconds: 1748367193, nanoseconds: 132000000 }
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Casting to ProfileDocument
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] ProfileDocument createdAt: Timestamp { seconds: 1748367193, nanoseconds: 132000000 }
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] ProfileDocument updatedAt: Timestamp { seconds: 1748367193, nanoseconds: 132000000 }
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Starting serialization...
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Starting serialization
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Input profile keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Raw profile data: {
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:33:13.267Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "seconds": 1748367193,
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "nanoseconds": 132000000
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: },
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "seconds": 1748367193,
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "nanoseconds": 132000000
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt type: object
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt instanceof Timestamp: true
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt value: Timestamp { seconds: 1748367193, nanoseconds: 132000000 }
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt type: object
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt instanceof Timestamp: true
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt value: Timestamp { seconds: 1748367193, nanoseconds: 132000000 }
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized profile: {
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "createdAt": "2025-05-27T17:33:13.132Z",
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "updatedAt": "2025-05-27T17:33:13.132Z"
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized createdAt: 2025-05-27T17:33:13.132Z
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized updatedAt: 2025-05-27T17:33:13.132Z
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialization complete
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Final result: {
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "isSuccess": true,
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "message": "Profile created successfully",
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "data": {
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "createdAt": "2025-05-27T17:33:13.132Z",
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: "updatedAt": "2025-05-27T17:33:13.132Z"
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:13.268Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Action completed successfully
[2025-05-27T17:33:13.387Z] NEXTJS_STDOUT: GET / 200 in 3827ms
[2025-05-27T17:33:13.715Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/
[2025-05-27T17:33:13.715Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /
[2025-05-27T17:33:13.715Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:13.715Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: false
[2025-05-27T17:33:13.848Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION START ==========
[2025-05-27T17:33:13.848Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Timestamp: 2025-05-27T17:33:13.848Z
[2025-05-27T17:33:13.848Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:13.853Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Fetching organization memberships...
[2025-05-27T17:33:14.085Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Found memberships: 3
[2025-05-27T17:33:14.085Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Organization IDs: [
[2025-05-27T17:33:14.085Z] NEXTJS_STDOUT: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.086Z] NEXTJS_STDOUT: 'k0V9nQJ6BPAO9gVkdaOR',
[2025-05-27T17:33:14.086Z] NEXTJS_STDOUT: 'Ofa9s59KFG9e3teB8xTT'
[2025-05-27T17:33:14.086Z] NEXTJS_STDOUT: ]
[2025-05-27T17:33:14.150Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:33:14.225Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:33:14.285Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:33:14.286Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Total organizations found: 3
[2025-05-27T17:33:14.286Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ✅ Organizations retrieved successfully
[2025-05-27T17:33:14.286Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:33:14.290Z] NEXTJS_STDOUT: POST / 200 in 573ms
[2025-05-27T17:33:14.300Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/
[2025-05-27T17:33:14.300Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /
[2025-05-27T17:33:14.300Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:14.300Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: false
[2025-05-27T17:33:14.305Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION START ==========
[2025-05-27T17:33:14.305Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Timestamp: 2025-05-27T17:33:14.305Z
[2025-05-27T17:33:14.305Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:14.306Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Fetching organization memberships...
[2025-05-27T17:33:14.414Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Found memberships: 3
[2025-05-27T17:33:14.414Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Organization IDs: [
[2025-05-27T17:33:14.414Z] NEXTJS_STDOUT: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.414Z] NEXTJS_STDOUT: 'k0V9nQJ6BPAO9gVkdaOR',
[2025-05-27T17:33:14.414Z] NEXTJS_STDOUT: 'Ofa9s59KFG9e3teB8xTT'
[2025-05-27T17:33:14.414Z] NEXTJS_STDOUT: ]
[2025-05-27T17:33:14.509Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:33:14.566Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:33:14.615Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:33:14.615Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Total organizations found: 3
[2025-05-27T17:33:14.616Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ✅ Organizations retrieved successfully
[2025-05-27T17:33:14.616Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:33:14.618Z] NEXTJS_STDOUT: POST / 200 in 317ms
[2025-05-27T17:33:14.625Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/
[2025-05-27T17:33:14.625Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /
[2025-05-27T17:33:14.626Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:14.626Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: false
[2025-05-27T17:33:14.631Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION START ==========
[2025-05-27T17:33:14.632Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Timestamp: 2025-05-27T17:33:14.631Z
[2025-05-27T17:33:14.632Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Organization ID: PH1HuLm3o00D4wvoZ2lr
[2025-05-27T17:33:14.632Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Creating query...
[2025-05-27T17:33:14.632Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Executing query...
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query returned documents: 8
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query empty: false
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 1: {
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: id: '6m0HYhyZBLvy4qUDrvj4',
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: name: 'CCO Vibe #2',
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: keywordCount: 1,
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: status: 'completed',
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: totalCommentsGenerated: 10
[2025-05-27T17:33:14.709Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 2: {
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: id: '8zGJUZa7lLosO3JRTWbW',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: name: 'Beachcomber Dominican Republic',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: keywordCount: 2,
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: status: 'completed',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: totalCommentsGenerated: 20
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 3: {
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: id: 'c8pfUfM0Thap6AVZMbIG',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: name: 'CCO Vibe - Initial Campaign',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: keywordCount: 1,
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: status: 'error',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: totalCommentsGenerated: 0
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 4: {
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: id: 'jHudz5NOeAywCmjAkKnC',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: name: 'Vibe coder 5',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: keywordCount: 1,
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: status: 'completed',
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: totalCommentsGenerated: 10
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 5: {
[2025-05-27T17:33:14.710Z] NEXTJS_STDOUT: id: 'qfM8JvOmgDIn5l4YKa1C',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: name: 'Beachcomber Dominican Republic',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: keywordCount: 2,
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: status: 'draft',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: totalCommentsGenerated: 0
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 6: {
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: id: 'uIbiSe6rHJXY9tDpAA76',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: name: 'CCO Vibe #4',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: keywordCount: 1,
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: status: 'completed',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: totalCommentsGenerated: 10
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 7: {
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: id: 'vJt2ul0bG7YmJrcfNpBH',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: name: 'Lead Gen - 5/25/2025',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: keywordCount: 2,
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: status: 'completed',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: totalCommentsGenerated: 20
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign 8: {
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: id: 'yvzbDHtqoKTfqjNfvmah',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: name: 'CCO Vibe',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: organizationId: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: keywordCount: 1,
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: status: 'error',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: totalCommentsGenerated: 0
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Total campaigns found: 8
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign IDs: [
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: '6m0HYhyZBLvy4qUDrvj4',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: '8zGJUZa7lLosO3JRTWbW',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 'c8pfUfM0Thap6AVZMbIG',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 'jHudz5NOeAywCmjAkKnC',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 'qfM8JvOmgDIn5l4YKa1C',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 'uIbiSe6rHJXY9tDpAA76',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 'vJt2ul0bG7YmJrcfNpBH',
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 'yvzbDHtqoKTfqjNfvmah'
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: ]
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ✅ Campaigns retrieved successfully
[2025-05-27T17:33:14.711Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:33:14.713Z] NEXTJS_STDOUT: POST / 200 in 86ms
[2025-05-27T17:33:14.722Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/
[2025-05-27T17:33:14.722Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /
[2025-05-27T17:33:14.722Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:14.722Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: false
[2025-05-27T17:33:14.726Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] ====== FETCHING COMMENTS ======
[2025-05-27T17:33:14.726Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Campaign ID: 6m0HYhyZBLvy4qUDrvj4
[2025-05-27T17:33:14.726Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Collection: generated_comments
[2025-05-27T17:33:14.726Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Time: 2025-05-27T17:33:14.726Z
[2025-05-27T17:33:14.726Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Executing Firestore query...
[2025-05-27T17:33:14.802Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Query returned 10 documents
[2025-05-27T17:33:14.946Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Comment 1: {
[2025-05-27T17:33:14.946Z] NEXTJS_STDOUT: id: '6xuIxYsoMbOm0vyuvfQx',
[2025-05-27T17:33:14.946Z] NEXTJS_STDOUT: campaignId: '6m0HYhyZBLvy4qUDrvj4',
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: postTitle: 'Where do software engineers hang out?...',
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: relevanceScore: 10,
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: status: 'new',
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: createdAt: Timestamp { seconds: 1748229531, nanoseconds: 239000000 },
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: microCommentLength: 45,
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: mediumCommentLength: 130,
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: verboseCommentLength: 340
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Comment 2: {
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: id: '7Cnqkxoud5pwB0QshiQ3',
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: campaignId: '6m0HYhyZBLvy4qUDrvj4',
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: postTitle: "I'm a software engineer going blind, how should I ...",
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: relevanceScore: 5,
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: status: 'new',
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: createdAt: Timestamp { seconds: 1748229553, nanoseconds: 616000000 },
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: microCommentLength: 110,
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: mediumCommentLength: 271,
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: verboseCommentLength: 541
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Comment 3: {
[2025-05-27T17:33:14.947Z] NEXTJS_STDOUT: id: 'FjC2FHpVR3iuXQiGIA0w',
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: campaignId: '6m0HYhyZBLvy4qUDrvj4',
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: postTitle: 'Where do older software engineers go?...',
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: relevanceScore: 20,
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: status: 'new',
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: createdAt: Timestamp { seconds: 1748229586, nanoseconds: 889000000 },
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: microCommentLength: 109,
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: mediumCommentLength: 223,
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: verboseCommentLength: 416
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: }
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] Found 10 comments with enriched data
[2025-05-27T17:33:14.948Z] NEXTJS_STDOUT: 📖 [LEAD-GEN-GET] ====== FETCH COMPLETE ======
[2025-05-27T17:33:14.949Z] NEXTJS_STDOUT: POST / 200 in 226ms
[2025-05-27T17:33:15.845Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/lead-finder
[2025-05-27T17:33:15.846Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/lead-finder
[2025-05-27T17:33:15.846Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Skipping auth for /reddit/lead-finder (testing)
[2025-05-27T17:33:16.364Z] NEXTJS_STDOUT: ○ Compiling /reddit/lead-finder ...
[2025-05-27T17:33:17.594Z] NEXTJS_STDOUT: ✓ Compiled /reddit/lead-finder in 1745ms (3441 modules)
[2025-05-27T17:33:17.828Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Rendering LeadFinderPage
[2025-05-27T17:33:17.828Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Environment: development
[2025-05-27T17:33:17.828Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Time: 2025-05-27T17:33:17.827Z
[2025-05-27T17:33:17.828Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Rendering LeadFinderDashboard inside Suspense
[2025-05-27T17:33:17.959Z] NEXTJS_STDOUT: GET /reddit/lead-finder 200 in 2113ms
[2025-05-27T17:33:18.384Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/lead-finder
[2025-05-27T17:33:18.385Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/lead-finder
[2025-05-27T17:33:18.385Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Skipping auth for /reddit/lead-finder (testing)
[2025-05-27T17:33:18.563Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION START ==========
[2025-05-27T17:33:18.563Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Timestamp: 2025-05-27T17:33:18.563Z
[2025-05-27T17:33:18.563Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Organization ID: Ofa9s59KFG9e3teB8xTT
[2025-05-27T17:33:18.563Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Creating query...
[2025-05-27T17:33:18.563Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Executing query...
[2025-05-27T17:33:18.793Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query returned documents: 0
[2025-05-27T17:33:18.794Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query empty: true
[2025-05-27T17:33:18.794Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Total campaigns found: 0
[2025-05-27T17:33:18.794Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign IDs: []
[2025-05-27T17:33:18.794Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ✅ Campaigns retrieved successfully
[2025-05-27T17:33:18.794Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:33:18.796Z] NEXTJS_STDOUT: POST /reddit/lead-finder 200 in 410ms
[2025-05-27T17:33:18.808Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/lead-finder
[2025-05-27T17:33:18.808Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/lead-finder
[2025-05-27T17:33:18.808Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Skipping auth for /reddit/lead-finder (testing)
[2025-05-27T17:33:18.813Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION START ==========
[2025-05-27T17:33:18.813Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Timestamp: 2025-05-27T17:33:18.813Z
[2025-05-27T17:33:18.813Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Organization ID: Ofa9s59KFG9e3teB8xTT
[2025-05-27T17:33:18.813Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Creating query...
[2025-05-27T17:33:18.813Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Executing query...
[2025-05-27T17:33:18.844Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query returned documents: 0
[2025-05-27T17:33:18.844Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query empty: true
[2025-05-27T17:33:18.844Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Total campaigns found: 0
[2025-05-27T17:33:18.844Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign IDs: []
[2025-05-27T17:33:18.844Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ✅ Campaigns retrieved successfully
[2025-05-27T17:33:18.844Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:33:18.845Z] NEXTJS_STDOUT: POST /reddit/lead-finder 200 in 36ms
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/knowledge-base
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/knowledge-base
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: true
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Checking organization context for user: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] ========== ACTION START ==========
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] Timestamp: 2025-05-27T17:33:31.100Z
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:33:31.100Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] Fetching organization memberships...
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: [2025-05-27T17:33:31.105Z]  @firebase/firestore: Firestore (11.8.0): INTERNAL UNHANDLED ERROR:  ReferenceError: navigator is not defined
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at isSafari (webpack-internal:///(middleware)/./node_modules/@firebase/util/dist/index.esm2017.js:1101:11)
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at __PRIVATE_getDefaultRelativeIndexReadCostPerDocument (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:12878:76)
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at new __PRIVATE_QueryEngine (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:12879:10)
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at __PRIVATE_LruGcMemoryOfflineComponentProvider.wu (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:17466:58)
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at __PRIVATE_LruGcMemoryOfflineComponentProvider.initialize (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:17456:95)
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at runNextTicks (node:internal/process/task_queues:60:5)
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at listOnTimeout (node:internal/timers:545:9)
[2025-05-27T17:33:31.105Z] NEXTJS_STDERR: at process.processTimers (node:internal/timers:519:7)
[2025-05-27T17:33:31.106Z] NEXTJS_STDERR: at async __PRIVATE_setOfflineComponentProvider (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:18142:5)
[2025-05-27T17:33:31.106Z] NEXTJS_STDERR: at async __PRIVATE_ensureOfflineComponents (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:18186:78)
[2025-05-27T17:33:31.159Z] NEXTJS_STDERR: [ReferenceError: navigator is not defined]
[2025-05-27T17:33:31.180Z] NEXTJS_STDERR: ⨯ unhandledRejection: [ReferenceError: navigator is not defined]
[2025-05-27T17:33:31.201Z] NEXTJS_STDERR: ⨯ unhandledRejection:  [ReferenceError: navigator is not defined]
[2025-05-27T17:34:38.534Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/lead-finder
[2025-05-27T17:34:38.534Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/lead-finder
[2025-05-27T17:34:38.534Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Skipping auth for /reddit/lead-finder (testing)
[2025-05-27T17:34:38.551Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Rendering LeadFinderPage
[2025-05-27T17:34:38.551Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Environment: development
[2025-05-27T17:34:38.551Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Time: 2025-05-27T17:34:38.551Z
[2025-05-27T17:34:38.551Z] NEXTJS_STDOUT: 🔥🔥🔥 [LEAD-FINDER-PAGE] Rendering LeadFinderDashboard inside Suspense
[2025-05-27T17:34:38.584Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Action called
[2025-05-27T17:34:38.584Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Input data: {
[2025-05-27T17:34:38.584Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy"
[2025-05-27T17:34:38.584Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.584Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Input data keys: [ 'userId' ]
[2025-05-27T17:34:38.584Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Created Firestore document reference
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Collection: profiles
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document path: profiles/user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw profile data before filtering: {
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw profile data keys: [
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 'userId',
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 'membership',
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 'stripeCustomerId',
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 'stripeSubscriptionId',
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 'createdAt',
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 'updatedAt'
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: ]
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] serverTimestamp() type: object
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Profile data after filtering undefined values: {
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Filtered profile data keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:34:38.585Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Writing to Firestore...
[2025-05-27T17:34:38.851Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Successfully wrote to Firestore
[2025-05-27T17:34:38.852Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Reading back created document...
[2025-05-27T17:34:38.981Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document exists: true
[2025-05-27T17:34:38.981Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document id: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw data from Firestore: {
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "seconds": 1748367278,
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "nanoseconds": 816000000
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "seconds": 1748367278,
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: "nanoseconds": 816000000
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw data keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:34:38.982Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw createdAt from Firestore: Timestamp { seconds: 1748367278, nanoseconds: 816000000 }
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw updatedAt from Firestore: Timestamp { seconds: 1748367278, nanoseconds: 816000000 }
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Casting to ProfileDocument
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] ProfileDocument createdAt: Timestamp { seconds: 1748367278, nanoseconds: 816000000 }
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] ProfileDocument updatedAt: Timestamp { seconds: 1748367278, nanoseconds: 816000000 }
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Starting serialization...
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Starting serialization
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Input profile keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Raw profile data: {
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "seconds": 1748367278,
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "nanoseconds": 816000000
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "seconds": 1748367278,
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: "nanoseconds": 816000000
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.983Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt type: object
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt instanceof Timestamp: true
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt value: Timestamp { seconds: 1748367278, nanoseconds: 816000000 }
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt type: object
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt instanceof Timestamp: true
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt value: Timestamp { seconds: 1748367278, nanoseconds: 816000000 }
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized profile: {
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "createdAt": "2025-05-27T17:34:38.816Z",
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "updatedAt": "2025-05-27T17:34:38.816Z"
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized createdAt: 2025-05-27T17:34:38.816Z
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized updatedAt: 2025-05-27T17:34:38.816Z
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialization complete
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Final result: {
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "isSuccess": true,
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "message": "Profile created successfully",
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "data": {
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:38.984Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:38.985Z] NEXTJS_STDOUT: "createdAt": "2025-05-27T17:34:38.816Z",
[2025-05-27T17:34:38.985Z] NEXTJS_STDOUT: "updatedAt": "2025-05-27T17:34:38.816Z"
[2025-05-27T17:34:38.985Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.985Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:38.985Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Action completed successfully
[2025-05-27T17:34:39.101Z] NEXTJS_STDOUT: 🍞 [REDDIT-HEADER] Current pathname: /reddit/lead-finder
[2025-05-27T17:34:39.101Z] NEXTJS_STDOUT: 🍞 [REDDIT-HEADER] Generating breadcrumbs for: /reddit/lead-finder
[2025-05-27T17:34:39.101Z] NEXTJS_STDOUT: 🍞 [REDDIT-HEADER] Generated breadcrumbs: [
[2025-05-27T17:34:39.101Z] NEXTJS_STDOUT: { label: 'Dashboard', href: '/dashboard', isActive: false },
[2025-05-27T17:34:39.101Z] NEXTJS_STDOUT: { label: 'Reddit', href: '/reddit', isActive: false },
[2025-05-27T17:34:39.101Z] NEXTJS_STDOUT: { label: 'Lead Finder', href: '/reddit/lead-finder', isActive: true }
[2025-05-27T17:34:39.101Z] NEXTJS_STDOUT: ]
[2025-05-27T17:34:39.272Z] NEXTJS_STDOUT: GET /reddit/lead-finder 200 in 736ms
[2025-05-27T17:34:39.786Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/lead-finder
[2025-05-27T17:34:39.786Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/lead-finder
[2025-05-27T17:34:39.786Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Skipping auth for /reddit/lead-finder (testing)
[2025-05-27T17:34:40.025Z] NEXTJS_STDOUT: ✓ Compiled /icon.png in 419ms (1897 modules)
[2025-05-27T17:34:40.451Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION START ==========
[2025-05-27T17:34:40.451Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Timestamp: 2025-05-27T17:34:40.451Z
[2025-05-27T17:34:40.451Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:40.454Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Fetching organization memberships...
[2025-05-27T17:34:40.455Z] NEXTJS_STDOUT: GET /icon.png?6cfa51926824cb4f 200 in 863ms
[2025-05-27T17:34:40.515Z] NEXTJS_STDOUT: GET /icon.png?6cfa51926824cb4f 200 in 31ms
[2025-05-27T17:34:40.620Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Found memberships: 3
[2025-05-27T17:34:40.620Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Organization IDs: [
[2025-05-27T17:34:40.621Z] NEXTJS_STDOUT: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:34:40.621Z] NEXTJS_STDOUT: 'k0V9nQJ6BPAO9gVkdaOR',
[2025-05-27T17:34:40.621Z] NEXTJS_STDOUT: 'Ofa9s59KFG9e3teB8xTT'
[2025-05-27T17:34:40.621Z] NEXTJS_STDOUT: ]
[2025-05-27T17:34:40.687Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:34:40.747Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:34:40.812Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:34:40.812Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Total organizations found: 3
[2025-05-27T17:34:40.812Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ✅ Organizations retrieved successfully
[2025-05-27T17:34:40.812Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:34:40.815Z] NEXTJS_STDOUT: POST /reddit/lead-finder 200 in 1026ms
[2025-05-27T17:34:40.854Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/lead-finder
[2025-05-27T17:34:40.854Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/lead-finder
[2025-05-27T17:34:40.854Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Skipping auth for /reddit/lead-finder (testing)
[2025-05-27T17:34:40.859Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION START ==========
[2025-05-27T17:34:40.859Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Timestamp: 2025-05-27T17:34:40.859Z
[2025-05-27T17:34:40.859Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Organization ID: Ofa9s59KFG9e3teB8xTT
[2025-05-27T17:34:40.859Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Creating query...
[2025-05-27T17:34:40.859Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Executing query...
[2025-05-27T17:34:40.911Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query returned documents: 0
[2025-05-27T17:34:40.911Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Query empty: true
[2025-05-27T17:34:40.911Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Total campaigns found: 0
[2025-05-27T17:34:40.911Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] Campaign IDs: []
[2025-05-27T17:34:40.912Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ✅ Campaigns retrieved successfully
[2025-05-27T17:34:40.912Z] NEXTJS_STDOUT: 📋📋📋 [GET-CAMPAIGNS-BY-ORG] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:34:40.914Z] NEXTJS_STDOUT: POST /reddit/lead-finder 200 in 58ms
[2025-05-27T17:34:43.439Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/reddit/knowledge-base
[2025-05-27T17:34:43.440Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /reddit/knowledge-base
[2025-05-27T17:34:43.440Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:43.440Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: true
[2025-05-27T17:34:43.441Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Checking organization context for user: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:43.441Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] ========== ACTION START ==========
[2025-05-27T17:34:43.441Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] Timestamp: 2025-05-27T17:34:43.440Z
[2025-05-27T17:34:43.441Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:43.441Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] Fetching organization memberships...
[2025-05-27T17:34:43.441Z] NEXTJS_STDERR: [2025-05-27T17:34:43.441Z]  @firebase/firestore: Firestore (11.8.0): FIRESTORE (11.8.0) INTERNAL ASSERTION FAILED: Unexpected state (ID: b815) CONTEXT: {"_c":"ReferenceError: navigator is not defined\n    at isSafari (webpack-internal:///(middleware)/./node_modules/@firebase/util/dist/index.esm2017.js:1101:11)\n    at __PRIVATE_getDefaultRelativeIndexReadCostPerDocument (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:12878:76)\n    at new __PRIVATE_QueryEngine (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:12879:10)\n    at __PRIVATE_LruGcMemoryOfflineComponentProvider.wu (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:17466:58)\n    at __PRIVATE_LruGcMemoryOfflineComponentProvider.initialize (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:17456:95)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at listOnTimeout (node:internal/timers:545:9)\n    at process.processTimers (node:internal/timers:519:7)\n    at async __PRIVATE_setOfflineComponentProvider (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:18142:5)\n    at async __PRIVATE_ensureOfflineComponents (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:18186:78)"}
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] ❌ Error: Error: FIRESTORE (11.8.0) INTERNAL ASSERTION FAILED: Unexpected state (ID: b815) CONTEXT: {"_c":"ReferenceError: navigator is not defined\n    at isSafari (webpack-internal:///(middleware)/./node_modules/@firebase/util/dist/index.esm2017.js:1101:11)\n    at __PRIVATE_getDefaultRelativeIndexReadCostPerDocument (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:12878:76)\n    at new __PRIVATE_QueryEngine (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:12879:10)\n    at __PRIVATE_LruGcMemoryOfflineComponentProvider.wu (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:17466:58)\n    at __PRIVATE_LruGcMemoryOfflineComponentProvider.initialize (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:17456:95)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at listOnTimeout (node:internal/timers:545:9)\n    at process.processTimers (node:internal/timers:519:7)\n    at async __PRIVATE_setOfflineComponentProvider (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:18142:5)\n    at async __PRIVATE_ensureOfflineComponents (webpack-internal:///(middleware)/./node_modules/@firebase/firestore/dist/index.esm2017.js:18186:78)"}
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: at getOrganizationsByUserIdWithoutAuthAction (actions/db/organizations-actions.ts:325:42)
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: at eval (middleware.ts:101:75)
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: 323 |       where("userId", "==", userId)
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: 324 |     )
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: > 325 |     const membersSnapshot = await getDocs(membersQuery)
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: |                                          ^
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: 326 |
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: 327 |     console.log(
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: 328 |       "🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] Found memberships:", {
[2025-05-27T17:34:43.480Z] NEXTJS_STDERR: }
[2025-05-27T17:34:43.480Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER-NO-AUTH] ========== ACTION END (ERROR) ==========
[2025-05-27T17:34:43.480Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] No organizations found for user
[2025-05-27T17:34:43.480Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Redirecting to onboarding
[2025-05-27T17:34:43.488Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/onboarding
[2025-05-27T17:34:43.488Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /onboarding
[2025-05-27T17:34:43.488Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:43.488Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: true
[2025-05-27T17:34:43.993Z] NEXTJS_STDOUT: ○ Compiling /onboarding ...
[2025-05-27T17:34:44.159Z] NEXTJS_STDOUT: ✓ Compiled /onboarding in 668ms (3432 modules)
[2025-05-27T17:34:44.356Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Action called
[2025-05-27T17:34:44.356Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Input data: {
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy"
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Input data keys: [ 'userId' ]
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Created Firestore document reference
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Collection: profiles
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document path: profiles/user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw profile data before filtering: {
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw profile data keys: [
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 'userId',
[2025-05-27T17:34:44.357Z] NEXTJS_STDOUT: 'membership',
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 'stripeCustomerId',
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 'stripeSubscriptionId',
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 'createdAt',
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 'updatedAt'
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: ]
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] serverTimestamp() type: object
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Profile data after filtering undefined values: {
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: "_methodName": "serverTimestamp"
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Filtered profile data keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:34:44.358Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Writing to Firestore...
[2025-05-27T17:34:44.548Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Successfully wrote to Firestore
[2025-05-27T17:34:44.549Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Reading back created document...
[2025-05-27T17:34:44.666Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document exists: true
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Document id: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw data from Firestore: {
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "seconds": 1748367284,
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "nanoseconds": 514000000
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "seconds": 1748367284,
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: "nanoseconds": 514000000
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.667Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw data keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw createdAt from Firestore: Timestamp { seconds: 1748367284, nanoseconds: 514000000 }
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Raw updatedAt from Firestore: Timestamp { seconds: 1748367284, nanoseconds: 514000000 }
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Casting to ProfileDocument
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] ProfileDocument createdAt: Timestamp { seconds: 1748367284, nanoseconds: 514000000 }
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] ProfileDocument updatedAt: Timestamp { seconds: 1748367284, nanoseconds: 514000000 }
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Starting serialization...
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Starting serialization
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Input profile keys: [ 'userId', 'membership', 'createdAt', 'updatedAt' ]
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Raw profile data: {
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: "createdAt": {
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: "seconds": 1748367284,
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: "nanoseconds": 514000000
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: },
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: "updatedAt": {
[2025-05-27T17:34:44.668Z] NEXTJS_STDOUT: "seconds": 1748367284,
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "nanoseconds": 514000000
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt type: object
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt instanceof Timestamp: true
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] createdAt value: Timestamp { seconds: 1748367284, nanoseconds: 514000000 }
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt type: object
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt instanceof Timestamp: true
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] updatedAt value: Timestamp { seconds: 1748367284, nanoseconds: 514000000 }
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized profile: {
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "createdAt": "2025-05-27T17:34:44.514Z",
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "updatedAt": "2025-05-27T17:34:44.514Z"
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized createdAt: 2025-05-27T17:34:44.514Z
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialized updatedAt: 2025-05-27T17:34:44.514Z
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [PROFILE-SERIALIZE] Serialization complete
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Final result: {
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "isSuccess": true,
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "message": "Profile created successfully",
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "data": {
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "userId": "user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy",
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "membership": "free",
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "createdAt": "2025-05-27T17:34:44.514Z",
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: "updatedAt": "2025-05-27T17:34:44.514Z"
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.669Z] NEXTJS_STDOUT: 🔥 [CREATE-PROFILE] Action completed successfully
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: 🔍 [ONBOARDING] Component initialized
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: 🔍 [ONBOARDING] User ID: undefined
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: 🔍 [ONBOARDING] User fullName: undefined
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: 🔍 [ONBOARDING] User imageUrl: undefined
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: 🔍 [ONBOARDING] Current onboardingData: {
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: profileName: '',
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: profilePictureUrl: '',
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: organizationName: '',
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: organizationId: '',
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: website: '',
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: keywords: [],
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: redditConnected: false
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: }
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: 🔍 [ONBOARDING] isLoading: true
[2025-05-27T17:34:44.700Z] NEXTJS_STDOUT: 🔍 [ONBOARDING] currentStep: profile
[2025-05-27T17:34:44.712Z] NEXTJS_STDOUT: GET /onboarding 200 in 1223ms
[2025-05-27T17:34:45.048Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Request URL: http://localhost:3000/onboarding
[2025-05-27T17:34:45.049Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Pathname: /onboarding
[2025-05-27T17:34:45.049Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Auth userId: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:45.049Z] NEXTJS_STDOUT: 🔥🔥🔥 [MIDDLEWARE] Is protected route: true
[2025-05-27T17:34:45.162Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION START ==========
[2025-05-27T17:34:45.163Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Timestamp: 2025-05-27T17:34:45.162Z
[2025-05-27T17:34:45.163Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] User ID: user_2xVcPK80cNJ6GNcDuEBKJcF4ZMy
[2025-05-27T17:34:45.167Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Fetching organization memberships...
[2025-05-27T17:34:45.332Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Found memberships: 3
[2025-05-27T17:34:45.332Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Organization IDs: [
[2025-05-27T17:34:45.333Z] NEXTJS_STDOUT: 'PH1HuLm3o00D4wvoZ2lr',
[2025-05-27T17:34:45.333Z] NEXTJS_STDOUT: 'k0V9nQJ6BPAO9gVkdaOR',
[2025-05-27T17:34:45.333Z] NEXTJS_STDOUT: 'Ofa9s59KFG9e3teB8xTT'
[2025-05-27T17:34:45.333Z] NEXTJS_STDOUT: ]
[2025-05-27T17:34:45.408Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:34:45.474Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:34:45.522Z] NEXTJS_STDOUT: 🏢 [SERIALIZE-ORG] Starting serialization
[2025-05-27T17:34:45.522Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] Total organizations found: 3
[2025-05-27T17:34:45.522Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ✅ Organizations retrieved successfully
[2025-05-27T17:34:45.522Z] NEXTJS_STDOUT: 🏢🏢🏢 [GET-ORGS-BY-USER] ========== ACTION END (SUCCESS) ==========
[2025-05-27T17:34:45.524Z] NEXTJS_STDOUT: POST /onboarding 200 in 475ms
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: ⨯ node:process
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: Module build failed: UnhandledSchemeError: Reading from "node:process" is not handled by plugins (Unhandled scheme).
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: Webpack supports "data:" and "file:" URIs by default.
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: You may need an additional plugin to handle "node:" URIs.
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: Import trace for requested module:
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: node:process
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: ./node_modules/google-logging-utils/build/src/logging-utils.js
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: ./node_modules/google-logging-utils/build/src/index.js
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: ./node_modules/gcp-metadata/build/src/index.js
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: ./node_modules/google-auth-library/build/src/index.js
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/app/credential-internal.js
[2025-05-27T17:35:42.487Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/app/lifecycle.js
[2025-05-27T17:35:42.488Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/app/firebase-namespace.js
[2025-05-27T17:35:42.488Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/default-namespace.js
[2025-05-27T17:35:42.488Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/index.js
[2025-05-27T17:35:42.488Z] NEXTJS_STDERR: ./lib/firebase-admin.ts
[2025-05-27T17:35:42.488Z] NEXTJS_STDERR: ./actions/db/organizations-actions.ts
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ⨯ node:process
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: Module build failed: UnhandledSchemeError: Reading from "node:process" is not handled by plugins (Unhandled scheme).
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: Webpack supports "data:" and "file:" URIs by default.
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: You may need an additional plugin to handle "node:" URIs.
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: Import trace for requested module:
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: node:process
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ./node_modules/google-logging-utils/build/src/logging-utils.js
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ./node_modules/google-logging-utils/build/src/index.js
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ./node_modules/gcp-metadata/build/src/index.js
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ./node_modules/google-auth-library/build/src/index.js
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/app/credential-internal.js
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/app/lifecycle.js
[2025-05-27T17:35:52.301Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/app/firebase-namespace.js
[2025-05-27T17:35:52.302Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/default-namespace.js
[2025-05-27T17:35:52.302Z] NEXTJS_STDERR: ./node_modules/firebase-admin/lib/index.js
[2025-05-27T17:35:52.302Z] NEXTJS_STDERR: ./lib/firebase-admin.ts
[2025-05-27T17:35:52.302Z] NEXTJS_STDERR: ./actions/db/organizations-actions.ts
[2025-05-27T17:36:01.553Z] ==================================================
[2025-05-27T17:36:01.554Z] COMMAND STARTED: next lint --fix
[2025-05-27T17:36:01.554Z] ==================================================
[2025-05-27T17:36:02.653Z] STDOUT: ✔ No ESLint warnings or errors
[2025-05-27T17:36:02.709Z] ==================================================
[2025-05-27T17:36:02.709Z] COMMAND FINISHED: next lint --fix (exit code: 0)
[2025-05-27T17:36:02.709Z] ==================================================
[2025-05-27T17:36:02.900Z] ==================================================
[2025-05-27T17:36:02.900Z] COMMAND STARTED: prettier --write {app,lib,components}/**/*.{ts,tsx} db/**/*.ts types/**/*.ts --cache --ignore-unknown
[2025-05-27T17:36:02.900Z] ==================================================
[2025-05-27T17:36:02.974Z] STDOUT: app/api/lead-generation/start/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.976Z] STDOUT: app/api/queue/check-warmup-comments/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.978Z] STDOUT: app/api/queue/process-posts/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.979Z] STDOUT: app/api/queue/process-warmup/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.981Z] STDOUT: app/api/reddit/auth/route.ts 1ms (unchanged) (cached)
[2025-05-27T17:36:02.982Z] STDOUT: app/api/reddit/callback/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.984Z] STDOUT: app/api/reddit/comments/[commentId]/replies/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.985Z] STDOUT: app/api/reddit/comments/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.987Z] STDOUT: app/api/stripe/webhooks/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.988Z] STDOUT: app/api/test-twitter-analysis/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.989Z] STDOUT: app/api/test-twitter-direct/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.991Z] STDOUT: app/api/warmup/generate-posts/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.992Z] STDOUT: app/api/warmup/reset-daily-counters/route.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.994Z] STDOUT: app/reddit/lead-finder/_components/dashboard/types.ts 1ms (unchanged) (cached)
[2025-05-27T17:36:02.994Z] STDOUT: app/reddit/lead-finder/_components/dashboard/utils.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:02.996Z] STDOUT: app/(auth)/layout.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:02.998Z] STDOUT: app/(marketing)/layout.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:02.999Z] STDOUT: app/(marketing)/page.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.002Z] STDOUT: app/dashboard/layout.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.003Z] STDOUT: app/dashboard/page.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.004Z] STDOUT: app/firebase-test/page.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.006Z] STDOUT: app/onboarding/layout.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.007Z] STDOUT: app/onboarding/page.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.009Z] STDOUT: app/reddit-auth/page.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.010Z] STDOUT: app/reddit-test/page.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.011Z] STDOUT: app/reddit/layout.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.013Z] STDOUT: lib/config/keyword-config.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.014Z] STDOUT: lib/config/reddit-config.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.015Z] STDOUT: lib/hooks/use-toast.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.016Z] STDOUT: lib/reddit/reddit-api-client.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.017Z] STDOUT: lib/utils/firestore-batch-utils.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.019Z] STDOUT: lib/utils/organization-utils.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.022Z] STDOUT: lib/utils/theme-utils.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.023Z] STDOUT: lib/utils/timestamp-utils.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.024Z] STDOUT: lib/hooks/use-copy-to-clipboard.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.024Z] STDOUT: lib/hooks/use-mobile.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.026Z] STDOUT: components/ui/use-toast.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.027Z] STDOUT: components/landing/hero.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.028Z] STDOUT: components/landing/logo-carousel.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.029Z] STDOUT: components/landing/testimonials.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.030Z] STDOUT: components/magicui/animated-gradient-text.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.031Z] STDOUT: components/magicui/hero-video-dialog.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.032Z] STDOUT: components/sidebar/app-sidebar.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.033Z] STDOUT: components/sidebar/create-organization-dialog.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.035Z] STDOUT: components/sidebar/nav-main.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.036Z] STDOUT: components/sidebar/nav-projects.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.036Z] STDOUT: components/sidebar/nav-user.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.037Z] STDOUT: components/sidebar/team-switcher.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.038Z] STDOUT: components/ui/accordion.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.039Z] STDOUT: components/ui/alert-dialog.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.040Z] STDOUT: components/ui/alert.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.040Z] STDOUT: components/ui/aspect-ratio.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.041Z] STDOUT: components/ui/avatar.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.042Z] STDOUT: components/ui/badge.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.043Z] STDOUT: components/ui/breadcrumb.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.044Z] STDOUT: components/ui/button.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.045Z] STDOUT: components/ui/calendar.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.045Z] STDOUT: components/ui/card.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.046Z] STDOUT: components/ui/carousel.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.048Z] STDOUT: components/ui/chart.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.049Z] STDOUT: components/ui/checkbox.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.050Z] STDOUT: components/ui/collapsible.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.050Z] STDOUT: components/ui/command.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.051Z] STDOUT: components/ui/context-menu.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.052Z] STDOUT: components/ui/dialog.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.053Z] STDOUT: components/ui/drawer.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.053Z] STDOUT: components/ui/dropdown-menu.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.054Z] STDOUT: components/ui/form.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.055Z] STDOUT: components/ui/hover-card.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.056Z] STDOUT: components/ui/input-otp.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.056Z] STDOUT: components/ui/input.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.057Z] STDOUT: components/ui/label.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.058Z] STDOUT: components/ui/loading-skeleton.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.060Z] STDOUT: components/ui/menubar.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.060Z] STDOUT: components/ui/navigation-menu.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.061Z] STDOUT: components/ui/pagination.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.062Z] STDOUT: components/ui/popover.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.062Z] STDOUT: components/ui/progress.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.063Z] STDOUT: components/ui/radio-group.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.064Z] STDOUT: components/ui/resizable.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.064Z] STDOUT: components/ui/scroll-area.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.065Z] STDOUT: components/ui/select.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.066Z] STDOUT: components/ui/separator.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.066Z] STDOUT: components/ui/sheet.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.067Z] STDOUT: components/ui/sidebar.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.068Z] STDOUT: components/ui/skeleton.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.069Z] STDOUT: components/ui/slider.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.070Z] STDOUT: components/ui/sonner.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.070Z] STDOUT: components/ui/switch.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.071Z] STDOUT: components/ui/table.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.072Z] STDOUT: components/ui/tabs.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.072Z] STDOUT: components/ui/textarea.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.073Z] STDOUT: components/ui/toast.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.074Z] STDOUT: components/ui/toaster.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.074Z] STDOUT: components/ui/toggle-group.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.075Z] STDOUT: components/ui/toggle.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.076Z] STDOUT: components/ui/tooltip.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.077Z] STDOUT: components/utilities/organization-provider.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.078Z] STDOUT: components/utilities/organization-selector.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.079Z] STDOUT: components/utilities/providers.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.080Z] STDOUT: components/utilities/tailwind-indicator.tsx 1ms (unchanged) (cached)
[2025-05-27T17:36:03.080Z] STDOUT: components/utilities/theme-switcher.tsx 0ms (unchanged) (cached)
[2025-05-27T17:36:03.082Z] STDOUT: db/firestore/collections.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.083Z] STDOUT: db/firestore/keyword-performance-collections.ts 1ms (unchanged) (cached)
[2025-05-27T17:36:03.083Z] STDOUT: db/firestore/lead-generation-collections.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.084Z] STDOUT: db/firestore/organizations-collections.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.085Z] STDOUT: db/firestore/personalization-collections.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.086Z] STDOUT: db/firestore/posting-queue-collections.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.087Z] STDOUT: db/firestore/warmup-collections.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.088Z] STDOUT: db/schema/index.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.089Z] STDOUT: types/action-interfaces.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.091Z] STDOUT: types/index.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.092Z] STDOUT: types/lead-generation-types.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.092Z] STDOUT: types/organization-types.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.093Z] STDOUT: types/profile-types.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.093Z] STDOUT: types/server-action-types.ts 0ms (unchanged) (cached)
[2025-05-27T17:36:03.102Z] ==================================================
[2025-05-27T17:36:03.102Z] COMMAND FINISHED: prettier --write {app,lib,components}/**/*.{ts,tsx} db/**/*.ts types/**/*.ts --cache --ignore-unknown (exit code: 0)
[2025-05-27T17:36:03.102Z] ==================================================
